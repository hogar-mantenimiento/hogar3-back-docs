"use strict";(globalThis.webpackChunkhogar_3_back_docs=globalThis.webpackChunkhogar_3_back_docs||[]).push([[7842],{8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var l=t(6540);const s={},r=l.createContext(s);function a(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(r.Provider,{value:n},e.children)}},8571:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>i});const l=JSON.parse('{"id":"Components/Clases","title":"Clases Internas","description":"Existe una serie de clases e interfaces dise\xf1adas para funcionalidades particulares dentro del proyecto. A continuaci\xf3n, se presenta una breve descripci\xf3n de cada clase junto con sus m\xe9todos principales.","source":"@site/docs/Components/Clases.md","sourceDirName":"Components","slug":"/Components/Clases","permalink":"/hogar3-back-docs/docs/Components/Clases","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Components/Clases.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Decoradores","permalink":"/hogar3-back-docs/docs/Components/decoradores"},"next":{"title":"DTOs Gen\xe9ricos \ud83e\udde9","permalink":"/hogar3-back-docs/docs/Components/Dtos-Generics"}}');var s=t(4848),r=t(8453);const a={sidebar_position:2},o="Clases Internas",c={},i=[{value:"<code>ModuleCounter</code>",id:"modulecounter",level:2},{value:"M\xe9todos",id:"m\xe9todos",level:3},{value:"\ud83d\udca1 Ejemplo de Uso",id:"-ejemplo-de-uso",level:3},{value:"1. Navegaci\xf3n Secuencial",id:"1-navegaci\xf3n-secuencial",level:4},{value:"2. Uso del m\xe9todo <code>add()</code>",id:"2-uso-del-m\xe9todo-add",level:4},{value:"3. Uso del m\xe9todo <code>set()</code>",id:"3-uso-del-m\xe9todo-set",level:4},{value:"<code>Queue&lt;T&gt;</code>",id:"queuet",level:2},{value:"M\xe9todos",id:"m\xe9todos-1",level:3},{value:"\ud83d\udca1 Ejemplo de Uso",id:"-ejemplo-de-uso-1",level:3},{value:"<code>QueueExecutor</code>",id:"queueexecutor",level:2},{value:"Tipo de Tarea",id:"tipo-de-tarea",level:3},{value:"Constructor",id:"constructor",level:3},{value:"M\xe9todos de Control y Estado",id:"m\xe9todos-de-control-y-estado",level:3},{value:"M\xe9todos de Gesti\xf3n de Cola",id:"m\xe9todos-de-gesti\xf3n-de-cola",level:3},{value:"\ud83d\udca1 Ejemplo de Uso",id:"-ejemplo-de-uso-2",level:3},{value:"<code>Mutex</code>",id:"mutex",level:2},{value:"Inicializaci\xf3n",id:"inicializaci\xf3n",level:3},{value:"<code>Lock(): Promise&lt;Locked&gt;</code>",id:"lock-promiselocked",level:3},{value:"<code>Unlock(): void</code>",id:"unlock-void",level:3},{value:"Manejo de Errores con Mutex",id:"manejo-de-errores-con-mutex",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"clases-internas",children:"Clases Internas"})}),"\n",(0,s.jsx)(n.p,{children:"Existe una serie de clases e interfaces dise\xf1adas para funcionalidades particulares dentro del proyecto. A continuaci\xf3n, se presenta una breve descripci\xf3n de cada clase junto con sus m\xe9todos principales."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"modulecounter",children:(0,s.jsx)(n.code,{children:"ModuleCounter"})}),"\n",(0,s.jsxs)(n.p,{children:["Esta clase permite crear y gestionar un ",(0,s.jsx)(n.strong,{children:"conjunto ordenado y c\xedclico de n\xfameros binarios"})," (o elementos de un arreglo), facilitando la navegaci\xf3n secuencial y controlada. Es ideal para la paginaci\xf3n interna o el manejo de estados que deben ciclar."]}),"\n",(0,s.jsx)(n.h3,{id:"m\xe9todos",children:"M\xe9todos"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"M\xe9todo"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Descripci\xf3n"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"current(): number"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Retorna el valor actual"})," utilizado dentro del conjunto."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"next(): void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Avanza al siguiente elemento."})," Si el valor actual es el \xfaltimo elemento del conjunto, el contador vuelve al primer elemento (comportamiento c\xedclico)."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"prev(): void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Retrocede al elemento anterior."})," Si el valor actual es el primer elemento, el contador se mueve al \xfaltimo elemento."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"add(n: number): void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Permite ",(0,s.jsxs)(n.strong,{children:["avanzar ",(0,s.jsx)(n.code,{children:"n"})," posiciones"]})," en el conjunto (si ",(0,s.jsx)(n.code,{children:"n"})," es positivo) o ",(0,s.jsxs)(n.strong,{children:["retroceder ",(0,s.jsx)(n.code,{children:"n"})," posiciones"]})," (si ",(0,s.jsx)(n.code,{children:"n"})," es negativo)."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"set(n: number): void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Permite establecer directamente un nuevo valor como ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"current()"})}),", siempre que el valor ",(0,s.jsx)(n.code,{children:"n"})," ",(0,s.jsx)(n.strong,{children:"exista"})," dentro del conjunto. De lo contrario, lanzar\xe1 una excepci\xf3n."]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"-ejemplo-de-uso",children:"\ud83d\udca1 Ejemplo de Uso"}),"\n",(0,s.jsxs)(n.p,{children:["Asumiendo que el ",(0,s.jsx)(n.code,{children:"ModuleCounter"})," fue inicializado con el conjunto ",(0,s.jsx)(n.code,{children:"[0, 1, 2, 3]"}),":"]}),"\n",(0,s.jsx)(n.h4,{id:"1-navegaci\xf3n-secuencial",children:"1. Navegaci\xf3n Secuencial"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Navegaci\xf3n C\xedclica"',children:"const counter = new ModuleCounter([0, 1, 2, 3]);\n\nconsole.log(counter.current()); // 0\n\ncounter.next();\nconsole.log(counter.current()); // 1\n\ncounter.prev();\nconsole.log(counter.current()); // 0 (Vuelve)\n\n// Comportamiento c\xedclico\ncounter.prev();\nconsole.log(counter.current()); // 3 (Se mueve del 0 al \xfaltimo elemento)\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"2-uso-del-m\xe9todo-add",children:["2. Uso del m\xe9todo ",(0,s.jsx)(n.code,{children:"add()"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Avance y Retroceso R\xe1pido"',children:"const counter = new ModuleCounter([0, 1, 2, 3]); // current() es 0\n\n// Avanzar 2 posiciones\ncounter.add(2);\nconsole.log(counter.current()); // 2\n\n// Retroceder 3 posiciones\ncounter.add(-3);\nconsole.log(counter.current()); // 3 (De 2 -> 1 -> 0 -> 3)\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"3-uso-del-m\xe9todo-set",children:["3. Uso del m\xe9todo ",(0,s.jsx)(n.code,{children:"set()"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Establecer un Valor Espec\xedfico"',children:'const counter = new ModuleCounter([0, 1, 2, 3]);\n\ncounter.set(2);\nconsole.log(counter.current()); // 2\n\n// Intentar establecer un valor fuera del conjunto [0, 1, 2, 3]\ntry {\n  counter.set(5);\n} catch (error) {\n  console.error(error.message); // Lanza excepci\xf3n: "El valor 5 no existe en el conjunto."\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"queuet",children:(0,s.jsx)(n.code,{children:"Queue<T>"})}),"\n",(0,s.jsxs)(n.p,{children:["Esta clase implementa una estructura de datos de ",(0,s.jsx)(n.strong,{children:"cola (Queue)"}),", donde los elementos se procesan en un orden ",(0,s.jsx)(n.strong,{children:"FIFO"})," (",(0,s.jsx)(n.em,{children:"First In, First Out"}),"). Permite gestionar una lista de datos que se van procesando uno a uno."]}),"\n",(0,s.jsx)(n.h3,{id:"m\xe9todos-1",children:"M\xe9todos"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"M\xe9todo"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Tipo de Retorno"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Descripci\xf3n"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"enqueue(payload: T)"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"A\xf1ade"})," un nuevo elemento (",(0,s.jsx)(n.code,{children:"payload"}),") al final de la cola."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"dequeue()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"T | undefined"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Elimina"})," el elemento que se encuentra al principio de la cola y lo devuelve. Si la cola est\xe1 vac\xeda, retorna ",(0,s.jsx)(n.code,{children:"undefined"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"peek()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"T | undefined"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Devuelve"})," el elemento que se encuentra al principio de la cola, pero ",(0,s.jsx)(n.strong,{children:"sin eliminarlo"}),". Si la cola est\xe1 vac\xeda, retorna ",(0,s.jsx)(n.code,{children:"undefined"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"size()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Retorna la ",(0,s.jsx)(n.strong,{children:"cantidad total de elementos"})," que contiene la cola actualmente."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"isEmply()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Devuelve ",(0,s.jsx)(n.code,{children:"true"})," si la cola no contiene elementos, o ",(0,s.jsx)(n.code,{children:"false"})," en caso contrario."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"clear()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Elimina todos los elementos"})," de la cola, dej\xe1ndola vac\xeda."]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"-ejemplo-de-uso-1",children:"\ud83d\udca1 Ejemplo de Uso"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Gesti\xf3n de Tareas"',children:'// La Queue se inicializa vac\xeda\nconst tareaQueue = new Queue<string>();\n\n// 1. Agregar elementos (enqueue)\ntareaQueue.enqueue("Procesar imagen 1");\ntareaQueue.enqueue("Enviar notificaci\xf3n");\ntareaQueue.enqueue("Actualizar base de datos");\n\nconsole.log(tareaQueue.size());    // 3\nconsole.log(tareaQueue.isEmply()); // false\n\n// 2. Ver el elemento siguiente (peek)\nconsole.log(tareaQueue.peek());    // "Procesar imagen 1"\nconsole.log(tareaQueue.size());    // 3 (No se elimina)\n\n// 3. Procesar y eliminar (dequeue)\nlet tarea = tareaQueue.dequeue();\nconsole.log(`Tarea completada: ${tarea}`); // Tarea completada: Procesar imagen 1\n\ntarea = tareaQueue.dequeue();\nconsole.log(`Tarea completada: ${tarea}`); // Tarea completada: Enviar notificaci\xf3n\n\n// 4. Limpiar la cola\ntareaQueue.clear();\nconsole.log(tareaQueue.isEmply()); // true\n'})}),"\n",(0,s.jsx)(n.h2,{id:"queueexecutor",children:(0,s.jsx)(n.code,{children:"QueueExecutor"})}),"\n",(0,s.jsxs)(n.p,{children:["Esta clase implementa una cola de tareas (",(0,s.jsx)(n.code,{children:"task[]"}),") con capacidad de ",(0,s.jsx)(n.strong,{children:"ejecuci\xf3n autom\xe1tica y secuencial"}),". Est\xe1 dise\xf1ada para procesar tareas as\xedncronas o s\xedncronas una tras otra, asegurando que solo se procese una tarea a la vez."]}),"\n",(0,s.jsx)(n.h3,{id:"tipo-de-tarea",children:"Tipo de Tarea"}),"\n",(0,s.jsx)(n.p,{children:"El tipo de tarea aceptado es:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"type task = (payload?: any) => (void | Promise<void>)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"constructor",children:"Constructor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"constructor(...init: task[])\n"})}),"\n",(0,s.jsxs)(n.p,{children:["El constructor recibe tareas iniciales opcionales. Si se inicializa con tareas, el ",(0,s.jsx)(n.code,{children:"QueueExecutor"})," ",(0,s.jsx)(n.strong,{children:"comenzar\xe1 a procesar inmediatamente"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"m\xe9todos-de-control-y-estado",children:"M\xe9todos de Control y Estado"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"M\xe9todo"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Tipo de Retorno"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Descripci\xf3n"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"start()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"void"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Inicia el procesamiento de las tareas pendientes en la cola. Si la cola est\xe1 vac\xeda, no hace nada hasta que se a\xf1ada una tarea."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"pause()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Detiene inmediatamente la ejecuci\xf3n de la cola. El procesamiento se reanudar\xe1 en la siguiente tarea al llamar a ",(0,s.jsx)(n.code,{children:"start()"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"IsProcessing()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Devuelve ",(0,s.jsx)(n.code,{children:"true"})," si la cola se est\xe1 ejecutando activamente, o ",(0,s.jsx)(n.code,{children:"false"})," si est\xe1 en pausa o terminada."]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"m\xe9todos-de-gesti\xf3n-de-cola",children:"M\xe9todos de Gesti\xf3n de Cola"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"M\xe9todo"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Tipo de Retorno"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Descripci\xf3n"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"enqueue(payload: task)"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"A\xf1ade"})," una nueva tarea al final de la cola para ser ejecutada."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"dequeue()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"task | undefined"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Elimina"})," la tarea al principio de la cola y la devuelve (usado internamente). Retorna ",(0,s.jsx)(n.code,{children:"undefined"})," si est\xe1 vac\xeda."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"peek()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"task | undefined"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Devuelve"})," la tarea al principio de la cola, ",(0,s.jsx)(n.strong,{children:"sin eliminarla"}),". Retorna ",(0,s.jsx)(n.code,{children:"undefined"})," si est\xe1 vac\xeda."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"size()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Retorna la ",(0,s.jsx)(n.strong,{children:"cantidad total de tareas"})," que esperan en la cola."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"isEmpty()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Devuelve ",(0,s.jsx)(n.code,{children:"true"})," si la cola de tareas est\xe1 vac\xeda."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"clear()"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"void"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.strong,{children:"Elimina todas las tareas"})," pendientes de la cola."]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"-ejemplo-de-uso-2",children:"\ud83d\udca1 Ejemplo de Uso"}),"\n",(0,s.jsx)(n.p,{children:"En este ejemplo, se crean dos tareas as\xedncronas y se gestiona su ejecuci\xf3n secuencial."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Ejecuci\xf3n Secuencial de Tareas"',children:'// Definici\xf3n de las tareas\nconst tarea1 = async () => {\n  console.log("-> Tarea 1: Iniciada");\n  await new Promise(resolve => setTimeout(resolve, 1000));\n  console.log("-> Tarea 1: Finalizada");\n}\n\nconst tarea2 = () => {\n  console.log("-> Tarea 2: S\xedncrona ejecutada");\n}\n\n// 1. Inicializar y agregar tareas\nconst executor = new QueueExecutor();\n\nexecutor.enqueue(tarea1);\nexecutor.enqueue(tarea2);\nexecutor.enqueue(tarea1);\n\nconsole.log(`Cola inicializada con ${executor.size()} tareas.`); // 3\nconsole.log(`\xbfProcesando? ${executor.IsProcessing()}`); // false\n\n// 2. Iniciar el procesamiento\nexecutor.start();\nconsole.log(`Cola en ejecuci\xf3n: ${executor.IsProcessing()}`); // true\n\n// (Tras 1 segundo)\n// -> Tarea 1: Iniciada\n// (Tras 2 segundos)\n// -> Tarea 1: Finalizada\n// -> Tarea 2: S\xedncrona ejecutada\n// (Tras 3 segundos)\n// -> Tarea 1: Iniciada\n// (Tras 4 segundos)\n// -> Tarea 1: Finalizada\n\n// (Al finalizar)\n// console.log(`\xbfProcesando? ${executor.IsProcessing()}`); // false\n'})}),"\n",(0,s.jsx)(n.h2,{id:"mutex",children:(0,s.jsx)(n.code,{children:"Mutex"})}),"\n",(0,s.jsxs)(n.p,{children:["El ",(0,s.jsx)(n.strong,{children:"Mutex"})," (del ingl\xe9s ",(0,s.jsx)(n.em,{children:"Mutual Exclusion"}),") es un elemento t\xedpico de lenguajes modernos pensados en concurrencia como ",(0,s.jsx)(n.code,{children:"Golang"})," y ",(0,s.jsx)(n.code,{children:"Rust"}),". Dado que JavaScript (y TypeScript) no lo incluyen de manera nativa, esta implementaci\xf3n es crucial para proteger bloques de c\xf3digo susceptibles a ",(0,s.jsx)(n.strong,{children:"condiciones de carrera"})," debido a la naturaleza as\xedncrona del entorno."]}),"\n",(0,s.jsx)(n.p,{children:"Se utiliza para asegurar que una secci\xf3n cr\xedtica de c\xf3digo sea ejecutada por una sola llamada a la vez."}),"\n",(0,s.jsx)(n.h3,{id:"inicializaci\xf3n",children:"Inicializaci\xf3n"}),"\n",(0,s.jsxs)(n.p,{children:["El ",(0,s.jsx)(n.code,{children:"Mutex"})," debe ser inicializado como una propiedad de la clase donde se necesita proteger la concurrencia, preferiblemente como ",(0,s.jsx)(n.code,{children:"private"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Inicializaci\xf3n del Mutex"',children:"export class YService{\n\n  private readonly mu: Mutex = new Mutex()\n\n  // ...\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"lock-promiselocked",children:(0,s.jsx)(n.code,{children:"Lock(): Promise<Locked>"})}),"\n",(0,s.jsxs)(n.p,{children:["Este m\xe9todo ",(0,s.jsx)(n.strong,{children:"bloquea"})," la ejecuci\xf3n de una funci\xf3n hasta que la llamada anterior haya terminado. Si la funci\xf3n es llamada concurrentemente varias veces, todas las llamadas subsecuentes esperar\xe1n a que la primera libere el bloqueo."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Aplicando el Bloqueo"',children:"export class YService{\n\n  private readonly mu: Mutex = new Mutex()\n\n  async functionConcurrente(){\n    await this.mu.Lock()\n    // L\xf3gica que DEBE ser ejecutada en un solo hilo de forma NO as\xedncrona entre distintas llamadas.\n  }\n\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"unlock-void",children:(0,s.jsx)(n.code,{children:"Unlock(): void"})}),"\n",(0,s.jsxs)(n.p,{children:["El m\xe9todo ",(0,s.jsx)(n.code,{children:"Lock()"})," por s\xed mismo no tiene conocimiento de cu\xe1ndo termina la l\xf3gica interna. Por lo tanto, el m\xe9todo ",(0,s.jsx)(n.strong,{children:"siempre requiere"})," un llamado expl\xedcito a ",(0,s.jsx)(n.code,{children:"Unlock()"})," al finalizar para liberar el Mutex y permitir que la siguiente llamada en espera pueda avanzar."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Liberando el Bloqueo"',children:"export class YService{\n\n  private readonly mu: Mutex = new Mutex()\n\n  async functionConcurrente(){\n    await this.mu.Lock();\n    // L\xf3gica cr\xedtica\n    this.mu.Unlock(); // Destraba la funci\xf3n para la siguiente llamada.\n    return;\n  }\n\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"manejo-de-errores-con-mutex",children:"Manejo de Errores con Mutex"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Es fundamental"})," que el ",(0,s.jsx)(n.code,{children:"Unlock()"})," se ejecute incluso si ocurre un error, ya que de lo contrario, el Mutex quedar\xe1 bloqueado permanentemente (",(0,s.jsx)(n.em,{children:"deadlock"}),")."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"No usar"})," los decoradores ",(0,s.jsx)(n.code,{children:"@CatchError"})," o ",(0,s.jsx)(n.code,{children:"@CatchErrorListener"})," directamente sobre un m\xe9todo que use ",(0,s.jsx)(n.code,{children:"Mutex"}),", ya que estos manejan el error antes de que se pueda liberar el Mutex, causando un bloqueo permanente."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="\ud83d\udeab Uso Incorrecto (Causa Deadlock)"',children:"export class YService{\n\n  private readonly mu: Mutex = new Mutex()\n\n  @CatchError // \ud83d\udc48 Si el m\xe9todo fallase, este bloquear\xe1 permanentemente la funci\xf3n porque el Mutex no se libera.\n  async functionConcurrente(){\n    await this.mu.Lock()\n    // L\xf3gica que podr\xeda fallar\n  }\n\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["La manera ",(0,s.jsx)(n.strong,{children:"correcta"})," de usarlo es mediante un bloque ",(0,s.jsx)(n.code,{children:"try...catch...finally"})," o encapsulando la l\xf3gica interna dentro del ",(0,s.jsx)(n.code,{children:"try...catch"})," si se desea utilizar un decorador de manejo de errores, asegurando que ",(0,s.jsx)(n.code,{children:"Unlock()"})," se llame antes de propagar el error."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="\u2705 Uso Correcto (Liberaci\xf3n y Manejo de Errores)"',children:"export class YService{\n\n  private readonly mu: Mutex = new Mutex()\n\n  @CatchError\n  async functionConcurrente(){\n    await this.mu.Lock()\n    try {\n      // L\xf3gica del componente\n      // ...\n    } catch (error) {\n      this.mu.Unlock() // \ud83d\udc48 Primero libera el Mutex\n      throw error // \ud83d\udc48 Luego propaga el error\n    }\n    this.mu.Unlock() // \ud83d\udc48 Liberaci\xf3n normal\n  }\n\n}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);